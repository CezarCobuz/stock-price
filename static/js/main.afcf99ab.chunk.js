(this["webpackJsonpstock-price"]=this["webpackJsonpstock-price"]||[]).push([[0],{173:function(t,e,n){t.exports=n(361)},178:function(t,e,n){},179:function(t,e,n){},180:function(t,e,n){},181:function(t,e,n){},182:function(t,e,n){},183:function(t,e,n){},360:function(t,e,n){},361:function(t,e,n){"use strict";n.r(e);var a,r,i,o,c,u,l,s,f,b,p,h,m,d,v,g,O,j,w,S,y,E=n(1),k=n.n(E),D=n(54),I=n.n(D),z=(n(178),n(9)),x=n(13),C=n(8),_=(n(35),n(179),n(87),n(180),n(181),n(4)),N=n(14),F=(a=function t(){Object(x.a)(this,t),Object(z.a)(this,"value",r,this),Object(z.a)(this,"valueIndex",i,this),Object(z.a)(this,"onChange",o,this)},r=Object(C.a)(a.prototype,"value",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=Object(C.a)(a.prototype,"valueIndex",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=Object(C.a)(a.prototype,"onChange",[_.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e,n){t.value=e,t.valueIndex=n}}}),a),B=Object(N.a)((function(t){var e=t.state,n=t.dates;return k.a.createElement("div",null,k.a.createElement("select",{className:"Dropdown",id:"date",onChange:function(t){return e.onChange(t.target.value,t.target.selectedIndex)},value:e.value},n.map((function(t){return k.a.createElement("option",{key:t,value:t},t)}))))})),K=(n(182),function(t,e,n,a,r,i){var o="";return n&&(o="SpacingComponent__top SpacingComponent__bottom "),e&&(o="SpacingComponent__bottom "),t&&(o="SpacingComponent__top "),i&&(o+="SpacingComponent__left SpacingComponent__right"),a&&(o+="SpacingComponent__left"),r&&(o+="SpacingComponent__right"),o}),M=function(t){return k.a.createElement("div",{className:K(t.top,t.bottom,t.vertical,t.left,t.right,t.horizontal)},t.children)},L=(c=function t(){Object(x.a)(this,t),Object(z.a)(this,"startDates",u,this),Object(z.a)(this,"endDates",l,this),Object(z.a)(this,"startDropdownState",s,this),Object(z.a)(this,"stopDropdownState",f,this),Object(z.a)(this,"filterDates",b,this),Object(z.a)(this,"setDateInterval",p,this)},u=Object(C.a)(c.prototype,"startDates",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(C.a)(c.prototype,"endDates",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=Object(C.a)(c.prototype,"startDropdownState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),f=Object(C.a)(c.prototype,"stopDropdownState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),b=Object(C.a)(c.prototype,"filterDates",[_.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.startDates=e.map((function(t){return t.date})),t.endDates=e.map((function(t){return t.date}))}}}),p=Object(C.a)(c.prototype,"setDateInterval",[_.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(t,e){t<e?(V.startIndex=t,V.endIndex=e):console.warn("Index of start date must be smaller then index of stop date")}}}),c),P=Object(N.a)((function(t){var e=t.state;Object(E.useEffect)((function(){e.filterDates(V.chartState.stockData)}),[]);var n=e.startDropdownState,a=e.stopDropdownState,r=e.startDates,i=e.endDates;return k.a.createElement(k.a.Fragment,null,k.a.createElement(M,{vertical:!0},k.a.createElement("div",{className:"DatesSelectorsContainer"},k.a.createElement(B,{state:n,dates:r}),k.a.createElement(M,{left:!0},k.a.createElement(B,{state:a,dates:i})))),k.a.createElement("button",{className:"Button",onClick:function(){return e.setDateInterval(n.valueIndex,a.valueIndex)}},"Filter Date Interval"))})),W=(n(183),n(18)),J=n(57),T=(n(360),h=function(){function t(){Object(x.a)(this,t),Object(z.a)(this,"value",m,this)}return Object(J.a)(t,[{key:"onChange",value:function(t){this.value=t}}]),t}(),m=Object(C.a)(h.prototype,"value",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(C.a)(h.prototype,"onChange",[_.f],Object.getOwnPropertyDescriptor(h.prototype,"onChange"),h.prototype),h),H=Object(N.a)((function(t){var e=t.state;return k.a.createElement("input",{className:"Input",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})})),q=n(143),A=function(){var t=window;return{width:t.innerWidth,height:t.innerHeight}},R=Object(N.a)((function(t){var e=t.state,n=t.startIndex,a=void 0===n?0:n,r=t.endIndex,i=void 0===r?0:r,o=e.stockData;(a||i)&&(o=o.slice(a,i));var c=function(t){return t.map((function(t){return t.price})).reduce((function(t,e){return t+e}),0)/t.length}(o),u=function(){var t=Object(E.useState)(A()),e=Object(q.a)(t,2),n=e[0],a=e[1];return Object(E.useEffect)((function(){function t(){a(A())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}(),l=u.height,s=u.width;return k.a.createElement("div",{className:"Chart"},k.a.createElement(M,{bottom:!0},k.a.createElement("div",{className:"SymbolContainer"},k.a.createElement(H,{state:e.userInputState}),k.a.createElement(M,{left:!0},k.a.createElement("button",{className:"Button",onClick:function(){return e.fetchStock()}},"Fetch Stock Data")))),0!==o.length&&k.a.createElement(W.d,{width:.8*s,height:.5*l,data:o},k.a.createElement(W.g,{dataKey:"date"}),k.a.createElement(W.h,{dataKey:"price"}),k.a.createElement(W.a,{stroke:"#eee",strokeDasharray:"5 5"}),k.a.createElement(W.c,{type:"monotone",dataKey:"price",stroke:"darkcyan"}),k.a.createElement(W.f,null),k.a.createElement(W.e,{y:c,stroke:"sandybrown",strokeDasharray:"5 10"},k.a.createElement(W.b,{value:"avg: ".concat(c.toFixed(4)),position:"insideLeft",fill:"coral",fontWeight:"bold"}))))})),U=(d=function(){function t(){Object(x.a)(this,t),Object(z.a)(this,"userInputState",v,this),Object(z.a)(this,"stockData",g,this)}return Object(J.a)(t,[{key:"fetchStock",value:function(){var t=this,e={stockSymbol:this.userInputState.value,outputSize:"compact",stockFunction:"TIME_SERIES_MONTHLY"};fetch(function(t){var e=t.outputSize,n=t.stockSymbol,a=t.stockFunction;return"".concat("https://www.alphavantage.co/","query?function=").concat(a,"&symbol=").concat(n,"&interval=5min&outputsize=").concat(e,"&apikey=").concat("KSNP9BPJV1U322DK")}(e)).then((function(t){return t.json()})).then((function(e){if(e["Error Message"])console.warn("<!> Error");else{var n=function(t){var e=[],n=t["Monthly Time Series"];return Object.keys(n).forEach((function(t){var a={date:t,price:parseFloat(n[t]["1. open"])};e.push(a)})),e.reverse()}(e);t.stockData=n}}))}}]),t}(),v=Object(C.a)(d.prototype,"userInputState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new T}}),g=Object(C.a)(d.prototype,"stockData",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(C.a)(d.prototype,"fetchStock",[_.f],Object.getOwnPropertyDescriptor(d.prototype,"fetchStock"),d.prototype),d),V=new(O=function t(){Object(x.a)(this,t),Object(z.a)(this,"chartState",j,this),Object(z.a)(this,"dateIntervalState",w,this),Object(z.a)(this,"startIndex",S,this),Object(z.a)(this,"endIndex",y,this)},j=Object(C.a)(O.prototype,"chartState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),w=Object(C.a)(O.prototype,"dateIntervalState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L}}),S=Object(C.a)(O.prototype,"startIndex",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=Object(C.a)(O.prototype,"endIndex",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O),Y=Object(N.a)((function(t){var e=t.state;return Object(E.useEffect)((function(){e.chartState.userInputState.value="amzn",e.chartState.fetchStock()}),[]),k.a.createElement("div",{className:"App"},k.a.createElement(M,{top:!0},k.a.createElement(R,{state:e.chartState,startIndex:e.startIndex,endIndex:e.endIndex})),0!==e.chartState.stockData.length&&k.a.createElement(P,{state:e.dateIntervalState}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));I.a.render(k.a.createElement(k.a.StrictMode,null,k.a.createElement(Y,{state:V})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},87:function(t,e,n){}},[[173,1,2]]]);
//# sourceMappingURL=main.afcf99ab.chunk.js.map