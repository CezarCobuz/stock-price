(this["webpackJsonpstock-price"]=this["webpackJsonpstock-price"]||[]).push([[0],{172:function(t,e,a){t.exports=a(360)},177:function(t,e,a){},178:function(t,e,a){},179:function(t,e,a){},180:function(t,e,a){},181:function(t,e,a){},182:function(t,e,a){},359:function(t,e,a){},360:function(t,e,a){"use strict";a.r(e);var n,r,o,i,c,u,l,s,p,b,f,m,h,d,v,g,O,j,w,y,S,E=a(1),k=a.n(E),D=a(54),I=a.n(D),x=(a(177),a(9)),C=a(13),z=a(8),_=(a(35),a(178),a(87),a(179),a(180),a(4)),N=a(14),F=(n=function t(){Object(C.a)(this,t),Object(x.a)(this,"value",r,this),Object(x.a)(this,"valueIndex",o,this),Object(x.a)(this,"onChange",i,this)},r=Object(z.a)(n.prototype,"value",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=Object(z.a)(n.prototype,"valueIndex",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=Object(z.a)(n.prototype,"onChange",[_.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e,a){t.value=e,t.valueIndex=a}}}),n),B=Object(N.a)((function(t){var e=t.state,a=t.dates;return k.a.createElement("div",null,k.a.createElement("select",{className:"Dropdown",id:"date",onChange:function(t){return e.onChange(t.target.value,t.target.selectedIndex)},value:e.value},a.map((function(t){return k.a.createElement("option",{key:t,value:t},t)}))))})),K=(a(181),function(t,e,a,n,r,o){var i="";return a&&(i="SpacingComponent__top SpacingComponent__bottom "),e&&(i="SpacingComponent__bottom "),t&&(i="SpacingComponent__top "),o&&(i+="SpacingComponent__left SpacingComponent__right"),n&&(i+="SpacingComponent__left"),r&&(i+="SpacingComponent__right"),i}),M=function(t){return k.a.createElement("div",{className:K(t.top,t.bottom,t.vertical,t.left,t.right,t.horizontal)},t.children)},P=(c=function t(){Object(C.a)(this,t),Object(x.a)(this,"startDates",u,this),Object(x.a)(this,"endDates",l,this),Object(x.a)(this,"startDropdownState",s,this),Object(x.a)(this,"stopDropdownState",p,this),Object(x.a)(this,"filterDates",b,this),Object(x.a)(this,"setDateInterval",f,this)},u=Object(z.a)(c.prototype,"startDates",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(z.a)(c.prototype,"endDates",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=Object(z.a)(c.prototype,"startDropdownState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),p=Object(z.a)(c.prototype,"stopDropdownState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new F}}),b=Object(z.a)(c.prototype,"filterDates",[_.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.startDates=e.map((function(t){return t.date})),t.endDates=e.map((function(t){return t.date}))}}}),f=Object(z.a)(c.prototype,"setDateInterval",[_.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(t,e){t<e?(R.startIndex=t,R.endIndex=e):console.warn("Index of start date must be smaller then index of stop date")}}}),c),J=Object(N.a)((function(t){var e=t.state;Object(E.useEffect)((function(){e.filterDates(R.chartState.stockData)}),[]);var a=e.startDropdownState,n=e.stopDropdownState,r=e.startDates,o=e.endDates;return k.a.createElement(k.a.Fragment,null,k.a.createElement(M,{vertical:!0},k.a.createElement("div",{className:"DatesSelectorsContainer"},k.a.createElement(B,{state:a,dates:r}),k.a.createElement(M,{left:!0},k.a.createElement(B,{state:n,dates:o})))),k.a.createElement("button",{className:"Button",onClick:function(){return e.setDateInterval(a.valueIndex,n.valueIndex)}},"Filter Date Interval"))})),T=(a(182),a(18)),W=a(57),L=(a(359),m=function(){function t(){Object(C.a)(this,t),Object(x.a)(this,"value",h,this)}return Object(W.a)(t,[{key:"onChange",value:function(t){this.value=t}}]),t}(),h=Object(z.a)(m.prototype,"value",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(z.a)(m.prototype,"onChange",[_.f],Object.getOwnPropertyDescriptor(m.prototype,"onChange"),m.prototype),m),q=Object(N.a)((function(t){var e=t.state;return k.a.createElement("input",{className:"Input",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})})),A=Object(N.a)((function(t){var e=t.state,a=t.startIndex,n=void 0===a?0:a,r=t.endIndex,o=void 0===r?0:r,i=e.stockData;(n||o)&&(i=i.slice(n,o));var c=function(t){return t.map((function(t){return t.price})).reduce((function(t,e){return t+e}),0)/t.length}(i);return k.a.createElement("div",{className:"Chart"},k.a.createElement(M,{bottom:!0},k.a.createElement("div",{className:"SymbolContainer"},k.a.createElement(q,{state:e.userInputState}),k.a.createElement(M,{left:!0},k.a.createElement("button",{className:"Button",onClick:function(){return e.fetchStock()}},"Fetch Stock Data")))),0!==i.length&&k.a.createElement(T.d,{width:1e3,height:300,data:i},k.a.createElement(T.g,{dataKey:"date"}),k.a.createElement(T.h,{dataKey:"price"}),k.a.createElement(T.a,{stroke:"#eee",strokeDasharray:"5 5"}),k.a.createElement(T.c,{type:"monotone",dataKey:"price",stroke:"darkcyan"}),k.a.createElement(T.f,null),k.a.createElement(T.e,{y:c,stroke:"sandybrown",strokeDasharray:"5 10"},k.a.createElement(T.b,{value:"avg: ".concat(c.toFixed(4)),position:"insideLeft",fill:"coral",fontWeight:"bold"}))))})),H=(d=function(){function t(){Object(C.a)(this,t),Object(x.a)(this,"userInputState",v,this),Object(x.a)(this,"stockData",g,this)}return Object(W.a)(t,[{key:"fetchStock",value:function(){var t=this,e={stockSymbol:this.userInputState.value,outputSize:"compact",stockFunction:"TIME_SERIES_MONTHLY"};fetch(function(t){var e=t.outputSize,a=t.stockSymbol,n=t.stockFunction;return"".concat("https://www.alphavantage.co/","query?function=").concat(n,"&symbol=").concat(a,"&interval=5min&outputsize=").concat(e,"&apikey=").concat("KSNP9BPJV1U322DK")}(e)).then((function(t){return t.json()})).then((function(e){if(e["Error Message"])console.warn("<!> Error");else{var a=function(t){var e=[],a=t["Monthly Time Series"];return Object.keys(a).forEach((function(t){var n={date:t,price:parseFloat(a[t]["1. open"])};e.push(n)})),e.reverse()}(e);t.stockData=a}}))}}]),t}(),v=Object(z.a)(d.prototype,"userInputState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new L}}),g=Object(z.a)(d.prototype,"stockData",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(z.a)(d.prototype,"fetchStock",[_.f],Object.getOwnPropertyDescriptor(d.prototype,"fetchStock"),d.prototype),d),R=new(O=function t(){Object(C.a)(this,t),Object(x.a)(this,"chartState",j,this),Object(x.a)(this,"dateIntervalState",w,this),Object(x.a)(this,"startIndex",y,this),Object(x.a)(this,"endIndex",S,this)},j=Object(z.a)(O.prototype,"chartState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new H}}),w=Object(z.a)(O.prototype,"dateIntervalState",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P}}),y=Object(z.a)(O.prototype,"startIndex",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=Object(z.a)(O.prototype,"endIndex",[_.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O),U=Object(N.a)((function(t){var e=t.state;return Object(E.useEffect)((function(){e.chartState.userInputState.value="amzn",e.chartState.fetchStock()}),[]),k.a.createElement("div",{className:"App"},k.a.createElement(M,{top:!0},k.a.createElement(A,{state:e.chartState,startIndex:e.startIndex,endIndex:e.endIndex})),0!==e.chartState.stockData.length&&k.a.createElement(J,{state:e.dateIntervalState}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));I.a.render(k.a.createElement(k.a.StrictMode,null,k.a.createElement(U,{state:R})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},87:function(t,e,a){}},[[172,1,2]]]);
//# sourceMappingURL=main.5fc478a0.chunk.js.map